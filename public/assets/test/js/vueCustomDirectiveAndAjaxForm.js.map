{"version":3,"sources":["vueCustomDirectiveAndAjaxForm.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"vueCustomDirectiveAndAjaxForm.js","sourcesContent":["Vue.http.headers.common['X-CSRF-TOKEN'] =\r\n    document.querySelector('meta[name=\"csrf-token\"]').content;\r\n\r\n//Vue.http.headers.common['X-CSRF-TOKEN'] =\r\n//    document.querySelector('input[name=\"_token\"]').value;\r\n\r\n\r\nVue.directive('ajax', {\r\n    params: ['complete'],\r\n    bind: function () {\r\n        console.log(this.params);\r\n        this.el.addEventListener('submit', this.onSubmit.bind(this));\r\n    },\r\n\r\n    update: function () {\r\n    },\r\n\r\n    onSubmit: function (e) {\r\n        e.preventDefault();\r\n        this.vm\r\n            .$http[this.getRequestType()](this.el.action)\r\n            //.then(this.onComplete.bind(this), this.onFailure.bind(this));\r\n            .then(this.onComplete.bind(this))\r\n            .catch(this.onFailure.bind(this));\r\n    },\r\n\r\n    getRequestType: function () {\r\n        var method = this.el.querySelector('input[name=\"_method\"]').value;\r\n        return (method ? method : this.el.method).toLowerCase();\r\n    },\r\n\r\n    onComplete: function () {\r\n        if (this.params.complete) {\r\n            alert(this.params.complete);\r\n        }\r\n    },\r\n\r\n    onFailure: function () {\r\n        console.log('job failed');\r\n    }\r\n});\r\n\r\n\r\nnew Vue({\r\n    el: '#app',\r\n    data: {\r\n        msg: 'A good restart',\r\n        testId: 5\r\n    }\r\n});"],"sourceRoot":"/source/"}